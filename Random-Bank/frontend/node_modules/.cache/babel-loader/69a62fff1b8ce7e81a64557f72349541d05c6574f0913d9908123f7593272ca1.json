{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KIIT0001\\\\Desktop\\\\Persona Final\\\\Random-Bank\\\\frontend\\\\src\\\\pages\\\\NewTransaction.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-toastify';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { transactionCategories, getCategoryById } from '../data/categories';\nimport { ArrowUpIcon, ArrowDownIcon, ArrowsRightLeftIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst transactionTypes = [{\n  id: 'deposit',\n  name: 'Deposit',\n  icon: ArrowDownIcon,\n  color: 'text-green-600',\n  bg: 'bg-green-100'\n}, {\n  id: 'withdrawal',\n  name: 'Withdrawal',\n  icon: ArrowUpIcon,\n  color: 'text-red-600',\n  bg: 'bg-red-100'\n}, {\n  id: 'transfer',\n  name: 'Transfer',\n  icon: ArrowsRightLeftIcon,\n  color: 'text-blue-600',\n  bg: 'bg-blue-100'\n}, {\n  id: 'payment',\n  name: 'Pay by Account Number',\n  icon: ArrowsRightLeftIcon,\n  color: 'text-purple-600',\n  bg: 'bg-purple-100'\n}];\nconst NewTransaction = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    darkMode\n  } = useTheme();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [selectedType, setSelectedType] = useState(searchParams.get('type') || 'deposit');\n  const [transferMethod, setTransferMethod] = useState('username'); // 'username' or 'accountNumber'\n  const [selectedCategory, setSelectedCategory] = useState('other');\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isFraudChecking, setIsFraudChecking] = useState(false);\n  const [fraudScore, setFraudScore] = useState(null);\n  useEffect(() => {\n    // If we need to fetch users for transfers\n    if (selectedType === 'transfer') {\n      fetchUsers();\n    }\n  }, [selectedType]);\n  const fetchUsers = async () => {\n    try {\n      // In a real app, you would have an endpoint to fetch users\n      // For now, we'll simulate it with a timeout\n      setIsLoading(true);\n\n      // Simulated API call to get users\n      setTimeout(() => {\n        setUsers([{\n          id: 'user1',\n          username: 'john_doe',\n          firstName: 'John',\n          lastName: 'Doe'\n        }, {\n          id: 'user2',\n          username: 'jane_smith',\n          firstName: 'Jane',\n          lastName: 'Smith'\n        }, {\n          id: 'user3',\n          username: 'bob_johnson',\n          firstName: 'Bob',\n          lastName: 'Johnson'\n        }]);\n        setIsLoading(false);\n      }, 500);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      toast.error('Failed to load users for transfer');\n      setIsLoading(false);\n    }\n  };\n\n  // Create validation schema based on transaction type\n  const getValidationSchema = () => {\n    // Create different schemas based on transaction type\n    if (selectedType === 'transfer') {\n      return Yup.object().shape({\n        amount: Yup.number().required('Amount is required').positive('Amount must be positive'),\n        description: Yup.string(),\n        recipientId: Yup.string().required('Recipient is required')\n      });\n    } else if (selectedType === 'payment') {\n      return Yup.object().shape({\n        amount: Yup.number().required('Amount is required').positive('Amount must be positive'),\n        description: Yup.string(),\n        recipientAccountNumber: Yup.string().required('Account number is required').length(16, 'Account number must be 16 digits'),\n        recipientName: Yup.string().required('Recipient name is required')\n      });\n    } else {\n      // For deposit and withdrawal\n      return Yup.object().shape({\n        amount: Yup.number().required('Amount is required').positive('Amount must be positive'),\n        description: Yup.string()\n      });\n    }\n  };\n\n  // Simulate fraud check\n  const checkForFraud = async values => {\n    setIsFraudChecking(true);\n    try {\n      // In a real app, this would call the ML service\n      // For now, we'll simulate it with a timeout\n      return new Promise(resolve => {\n        setTimeout(() => {\n          // Generate a random fraud score between 0 and 1\n          const score = Math.random();\n          setFraudScore(score);\n          setIsFraudChecking(false);\n          resolve(score);\n        }, 1000);\n      });\n    } catch (error) {\n      console.error('Error checking for fraud:', error);\n      setIsFraudChecking(false);\n      return 0; // Assume no fraud if the check fails\n    }\n  };\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    try {\n      // First check for fraud\n      const score = await checkForFraud(values);\n\n      // If fraud score is high, ask for confirmation\n      if (score > 0.7) {\n        const confirmContinue = window.confirm('This transaction has been flagged as potentially fraudulent. Do you want to continue?');\n        if (!confirmContinue) {\n          setSubmitting(false);\n          return;\n        }\n      }\n\n      // Proceed with transaction\n      const response = await api.post('/transactions', {\n        ...values,\n        type: selectedType\n      });\n\n      // Create a custom event to notify the dashboard of a new transaction\n      const transactionEvent = new CustomEvent('transactionCompleted', {\n        detail: {\n          transaction: response.data.transaction\n        }\n      });\n      window.dispatchEvent(transactionEvent);\n      toast.success('Transaction created successfully');\n      navigate('/dashboard');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error creating transaction:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create transaction');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Define initial values for the form\n  const initialValues = {\n    amount: '',\n    description: '',\n    recipientId: '',\n    recipientAccountNumber: '',\n    recipientName: '',\n    category: selectedCategory,\n    notes: ''\n  };\n\n  // This was previously used but we're now using the initialValues variable directly\n  const getInitialValues = () => {\n    return {\n      amount: '',\n      description: '',\n      recipientId: '',\n      recipientAccountNumber: '',\n      recipientName: '',\n      category: selectedCategory,\n      notes: ''\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"py-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-gray-900\",\n        children: \"New Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-white shadow sm:rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-lg font-semibold text-gray-800 mb-3\",\n              children: \"Transaction Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n              children: transactionTypes.map(type => {\n                const Icon = type.icon;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setSelectedType(type.id),\n                  className: `relative flex items-center justify-center rounded-lg shadow-md transition-all duration-200 hover:shadow-lg p-4 ${selectedType === type.id ? `${type.bg} border-2 border-${type.color.replace('text-', '')}` : 'bg-white border border-gray-200 hover:border-purple-300'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `rounded-full ${selectedType === type.id ? 'bg-white' : type.bg} p-3 mb-2`,\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        className: `h-6 w-6 ${type.color}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `text-sm font-medium ${selectedType === type.id ? 'text-white' : 'text-gray-800'}`,\n                      children: type.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this)\n                }, type.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: getInitialValues(),\n            validationSchema: getValidationSchema(),\n            enableReinitialize: true,\n            onSubmit: handleSubmit,\n            children: ({\n              isSubmitting,\n              errors,\n              touched\n            }) => /*#__PURE__*/_jsxDEV(Form, {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"amount\",\n                  className: \"block text-base font-semibold text-gray-800 mb-2\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative rounded-lg shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium\",\n                      children: \"\\u20B9\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"number\",\n                    name: \"amount\",\n                    id: \"amount\",\n                    className: \"focus:ring-purple-500 focus:border-purple-500 block w-full pl-8 pr-16 py-3 text-lg border-gray-300 rounded-lg shadow-sm transition-all duration-200 hover:shadow\",\n                    placeholder: \"0.00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium\",\n                      children: \"INR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"amount\",\n                  component: \"div\",\n                  className: \"mt-2 text-red-600 text-sm font-medium\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), selectedType === 'transfer' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"recipientId\",\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Recipient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-pulse h-10 bg-gray-200 rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Field, {\n                  as: \"select\",\n                  id: \"recipientId\",\n                  name: \"recipientId\",\n                  className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select recipient\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 27\n                  }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: user.id,\n                    children: [user.username, \" (\", user.firstName, \" \", user.lastName, \")\"]\n                  }, user.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"recipientId\",\n                  component: \"div\",\n                  className: \"text-red-500 text-sm mt-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this), selectedType === 'payment' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"recipientAccountNumber\",\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Recipient Account Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    id: \"recipientAccountNumber\",\n                    name: \"recipientAccountNumber\",\n                    placeholder: \"Enter 16-digit account number\",\n                    className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    name: \"recipientAccountNumber\",\n                    component: \"div\",\n                    className: \"text-red-500 text-sm mt-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"recipientName\",\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Recipient Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Field, {\n                    type: \"text\",\n                    id: \"recipientName\",\n                    name: \"recipientName\",\n                    placeholder: \"Enter recipient name\",\n                    className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    name: \"recipientName\",\n                    component: \"div\",\n                    className: \"text-red-500 text-sm mt-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-base font-semibold text-gray-800 mb-2\",\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\",\n                  children: transactionCategories.map(category => {\n                    const IconComponent = category.icon;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => {\n                        setSelectedCategory(category.id);\n                        // Also update the form field\n                        const categoryField = document.getElementById('category');\n                        if (categoryField) categoryField.value = category.id;\n                      },\n                      className: `cursor-pointer rounded-lg p-3 transition-all duration-200 ${selectedCategory === category.id ? `${category.bgColor} border-2 border-${category.color.replace('text-', '')}` : `${darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-white hover:bg-gray-50'} border border-gray-200`}`,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `rounded-full ${category.bgColor} p-2`,\n                          children: /*#__PURE__*/_jsxDEV(IconComponent, {\n                            className: `h-5 w-5 ${category.color}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 340,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 339,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-sm font-medium ${darkMode ? 'text-white' : 'text-gray-800'}`,\n                          children: category.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 342,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 29\n                      }, this)\n                    }, category.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  type: \"hidden\",\n                  id: \"category\",\n                  name: \"category\",\n                  value: selectedCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"description\",\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Description (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  as: \"textarea\",\n                  id: \"description\",\n                  name: \"description\",\n                  rows: \"3\",\n                  className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"notes\",\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Notes (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  as: \"textarea\",\n                  id: \"notes\",\n                  name: \"notes\",\n                  rows: \"2\",\n                  placeholder: \"Add any additional notes\",\n                  className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), fraudScore !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `rounded-md ${fraudScore > 0.7 ? 'bg-red-50' : fraudScore > 0.4 ? 'bg-yellow-50' : 'bg-green-50'} p-4`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-shrink-0\",\n                    children: fraudScore > 0.7 ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"h-5 w-5 text-red-400\",\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      viewBox: \"0 0 20 20\",\n                      fill: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        fillRule: \"evenodd\",\n                        d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                        clipRule: \"evenodd\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 29\n                    }, this) : fraudScore > 0.4 ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"h-5 w-5 text-yellow-400\",\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      viewBox: \"0 0 20 20\",\n                      fill: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        fillRule: \"evenodd\",\n                        d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n                        clipRule: \"evenodd\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"h-5 w-5 text-green-400\",\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      viewBox: \"0 0 20 20\",\n                      fill: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        fillRule: \"evenodd\",\n                        d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n                        clipRule: \"evenodd\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `text-sm font-medium ${fraudScore > 0.7 ? 'text-red-800' : fraudScore > 0.4 ? 'text-yellow-800' : 'text-green-800'}`,\n                      children: fraudScore > 0.7 ? 'High fraud risk detected' : fraudScore > 0.4 ? 'Medium fraud risk detected' : 'Low fraud risk'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `mt-2 text-sm ${fraudScore > 0.7 ? 'text-red-700' : fraudScore > 0.4 ? 'text-yellow-700' : 'text-green-700'}`,\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: fraudScore > 0.7 ? 'This transaction has been flagged as potentially fraudulent. You can still proceed, but it will be reviewed by our security team.' : fraudScore > 0.4 ? 'This transaction shows some unusual patterns. Please verify all details before proceeding.' : 'This transaction appears to be legitimate.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 421,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-end mt-8 space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => navigate(-1),\n                  className: \"bg-white py-3 px-6 border border-gray-300 rounded-lg shadow-sm text-base font-medium text-gray-700 hover:bg-gray-50 hover:shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: isSubmitting || isFraudChecking,\n                  className: \"inline-flex justify-center py-3 px-6 border border-transparent shadow-md text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 hover:shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50\",\n                  children: [(isSubmitting || isFraudChecking) && /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this), isFraudChecking ? 'Verifying Transaction...' : isSubmitting ? 'Processing...' : 'Create Transaction']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(NewTransaction, \"Qu8lnIiA35kdcpbOCB8ldmwxqX8=\", false, function () {\n  return [useAuth, useTheme, useNavigate, useSearchParams];\n});\n_c = NewTransaction;\nexport default NewTransaction;\nvar _c;\n$RefreshReg$(_c, \"NewTransaction\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","Formik","Form","Field","ErrorMessage","Yup","toast","api","useAuth","useTheme","transactionCategories","getCategoryById","ArrowUpIcon","ArrowDownIcon","ArrowsRightLeftIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","transactionTypes","id","name","icon","color","bg","NewTransaction","_s","currentUser","darkMode","navigate","searchParams","selectedType","setSelectedType","get","transferMethod","setTransferMethod","selectedCategory","setSelectedCategory","users","setUsers","isLoading","setIsLoading","isFraudChecking","setIsFraudChecking","fraudScore","setFraudScore","fetchUsers","setTimeout","username","firstName","lastName","error","console","getValidationSchema","object","shape","amount","number","required","positive","description","string","recipientId","recipientAccountNumber","length","recipientName","checkForFraud","values","Promise","resolve","score","Math","random","handleSubmit","setSubmitting","confirmContinue","window","confirm","response","post","type","transactionEvent","CustomEvent","detail","transaction","data","dispatchEvent","success","_error$response","_error$response$data","message","initialValues","category","notes","getInitialValues","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","Icon","onClick","replace","validationSchema","enableReinitialize","onSubmit","isSubmitting","errors","touched","htmlFor","placeholder","component","as","value","user","IconComponent","categoryField","document","getElementById","bgColor","rows","xmlns","viewBox","fill","fillRule","d","clipRule","disabled","cx","cy","r","stroke","strokeWidth","_c","$RefreshReg$"],"sources":["C:/Users/KIIT0001/Desktop/Persona Final/Random-Bank/frontend/src/pages/NewTransaction.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-toastify';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { transactionCategories, getCategoryById } from '../data/categories';\nimport { \n  ArrowUpIcon, \n  ArrowDownIcon, \n  ArrowsRightLeftIcon\n} from '@heroicons/react/24/outline';\n\nconst transactionTypes = [\n  { id: 'deposit', name: 'Deposit', icon: ArrowDownIcon, color: 'text-green-600', bg: 'bg-green-100' },\n  { id: 'withdrawal', name: 'Withdrawal', icon: ArrowUpIcon, color: 'text-red-600', bg: 'bg-red-100' },\n  { id: 'transfer', name: 'Transfer', icon: ArrowsRightLeftIcon, color: 'text-blue-600', bg: 'bg-blue-100' },\n  { id: 'payment', name: 'Pay by Account Number', icon: ArrowsRightLeftIcon, color: 'text-purple-600', bg: 'bg-purple-100' }\n];\n\nconst NewTransaction = () => {\n  const { currentUser } = useAuth();\n  const { darkMode } = useTheme();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [selectedType, setSelectedType] = useState(searchParams.get('type') || 'deposit');\n  const [transferMethod, setTransferMethod] = useState('username'); // 'username' or 'accountNumber'\n  const [selectedCategory, setSelectedCategory] = useState('other');\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isFraudChecking, setIsFraudChecking] = useState(false);\n  const [fraudScore, setFraudScore] = useState(null);\n\n  useEffect(() => {\n    // If we need to fetch users for transfers\n    if (selectedType === 'transfer') {\n      fetchUsers();\n    }\n  }, [selectedType]);\n\n  const fetchUsers = async () => {\n    try {\n      // In a real app, you would have an endpoint to fetch users\n      // For now, we'll simulate it with a timeout\n      setIsLoading(true);\n      \n      // Simulated API call to get users\n      setTimeout(() => {\n        setUsers([\n          { id: 'user1', username: 'john_doe', firstName: 'John', lastName: 'Doe' },\n          { id: 'user2', username: 'jane_smith', firstName: 'Jane', lastName: 'Smith' },\n          { id: 'user3', username: 'bob_johnson', firstName: 'Bob', lastName: 'Johnson' }\n        ]);\n        setIsLoading(false);\n      }, 500);\n      \n    } catch (error) {\n      console.error('Error fetching users:', error);\n      toast.error('Failed to load users for transfer');\n      setIsLoading(false);\n    }\n  };\n\n  // Create validation schema based on transaction type\n  const getValidationSchema = () => {\n    // Create different schemas based on transaction type\n    if (selectedType === 'transfer') {\n      return Yup.object().shape({\n        amount: Yup.number()\n          .required('Amount is required')\n          .positive('Amount must be positive'),\n        description: Yup.string(),\n        recipientId: Yup.string().required('Recipient is required')\n      });\n    } else if (selectedType === 'payment') {\n      return Yup.object().shape({\n        amount: Yup.number()\n          .required('Amount is required')\n          .positive('Amount must be positive'),\n        description: Yup.string(),\n        recipientAccountNumber: Yup.string()\n          .required('Account number is required')\n          .length(16, 'Account number must be 16 digits'),\n        recipientName: Yup.string()\n          .required('Recipient name is required')\n      });\n    } else {\n      // For deposit and withdrawal\n      return Yup.object().shape({\n        amount: Yup.number()\n          .required('Amount is required')\n          .positive('Amount must be positive'),\n        description: Yup.string()\n      });\n    }\n  };\n\n  // Simulate fraud check\n  const checkForFraud = async (values) => {\n    setIsFraudChecking(true);\n    \n    try {\n      // In a real app, this would call the ML service\n      // For now, we'll simulate it with a timeout\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          // Generate a random fraud score between 0 and 1\n          const score = Math.random();\n          setFraudScore(score);\n          setIsFraudChecking(false);\n          resolve(score);\n        }, 1000);\n      });\n    } catch (error) {\n      console.error('Error checking for fraud:', error);\n      setIsFraudChecking(false);\n      return 0; // Assume no fraud if the check fails\n    }\n  };\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    try {\n      // First check for fraud\n      const score = await checkForFraud(values);\n      \n      // If fraud score is high, ask for confirmation\n      if (score > 0.7) {\n        const confirmContinue = window.confirm(\n          'This transaction has been flagged as potentially fraudulent. Do you want to continue?'\n        );\n        \n        if (!confirmContinue) {\n          setSubmitting(false);\n          return;\n        }\n      }\n      \n      // Proceed with transaction\n      const response = await api.post('/transactions', {\n        ...values,\n        type: selectedType\n      });\n      \n      // Create a custom event to notify the dashboard of a new transaction\n      const transactionEvent = new CustomEvent('transactionCompleted', {\n        detail: { transaction: response.data.transaction }\n      });\n      window.dispatchEvent(transactionEvent);\n      \n      toast.success('Transaction created successfully');\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error creating transaction:', error);\n      toast.error(error.response?.data?.message || 'Failed to create transaction');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Define initial values for the form\n  const initialValues = {\n    amount: '',\n    description: '',\n    recipientId: '',\n    recipientAccountNumber: '',\n    recipientName: '',\n    category: selectedCategory,\n    notes: ''\n  };\n  \n  // This was previously used but we're now using the initialValues variable directly\n  const getInitialValues = () => {\n    return {\n      amount: '',\n      description: '',\n      recipientId: '',\n      recipientAccountNumber: '',\n      recipientName: '',\n      category: selectedCategory,\n      notes: ''\n    };\n  };\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">New Transaction</h1>\n        \n        <div className=\"mt-6 bg-white shadow sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            {/* Transaction Type Selection */}\n            <div className=\"mb-8\">\n              <label className=\"block text-lg font-semibold text-gray-800 mb-3\">\n                Transaction Type\n              </label>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                {transactionTypes.map((type) => {\n                  const Icon = type.icon;\n                  return (\n                    <button\n                      key={type.id}\n                      type=\"button\"\n                      onClick={() => setSelectedType(type.id)}\n                      className={`relative flex items-center justify-center rounded-lg shadow-md transition-all duration-200 hover:shadow-lg p-4 ${\n                        selectedType === type.id\n                          ? `${type.bg} border-2 border-${type.color.replace('text-', '')}`\n                          : 'bg-white border border-gray-200 hover:border-purple-300'\n                      }`}\n                    >\n                      <div className=\"flex flex-col items-center\">\n                        <div className={`rounded-full ${selectedType === type.id ? 'bg-white' : type.bg} p-3 mb-2`}>\n                          <Icon className={`h-6 w-6 ${type.color}`} />\n                        </div>\n                        <span className={`text-sm font-medium ${\n                          selectedType === type.id ? 'text-white' : 'text-gray-800'\n                        }`}>\n                          {type.name}\n                        </span>\n                      </div>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            \n            {/* Transaction Form */}\n            <Formik\n              initialValues={getInitialValues()}\n              validationSchema={getValidationSchema()}\n              enableReinitialize={true}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting, errors, touched }) => (\n                <Form className=\"space-y-6\">\n                  <div className=\"mb-6\">\n                    <label htmlFor=\"amount\" className=\"block text-base font-semibold text-gray-800 mb-2\">\n                      Amount\n                    </label>\n                    <div className=\"relative rounded-lg shadow-sm\">\n                      <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                        <span className=\"text-gray-600 font-medium\">₹</span>\n                      </div>\n                      <Field\n                        type=\"number\"\n                        name=\"amount\"\n                        id=\"amount\"\n                        className=\"focus:ring-purple-500 focus:border-purple-500 block w-full pl-8 pr-16 py-3 text-lg border-gray-300 rounded-lg shadow-sm transition-all duration-200 hover:shadow\"\n                        placeholder=\"0.00\"\n                      />\n                      <div className=\"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none\">\n                        <span className=\"text-gray-600 font-medium\">INR</span>\n                      </div>\n                    </div>\n                    <ErrorMessage name=\"amount\" component=\"div\" className=\"mt-2 text-red-600 text-sm font-medium\" />\n                  </div>\n                  \n                  {selectedType === 'transfer' && (\n                    <div className=\"mb-4\">\n                      <label htmlFor=\"recipientId\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Recipient\n                      </label>\n                      {isLoading ? (\n                        <div className=\"animate-pulse h-10 bg-gray-200 rounded\"></div>\n                      ) : (\n                        <Field\n                          as=\"select\"\n                          id=\"recipientId\"\n                          name=\"recipientId\"\n                          className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                        >\n                          <option value=\"\">Select recipient</option>\n                          {users.map(user => (\n                            <option key={user.id} value={user.id}>\n                              {user.username} ({user.firstName} {user.lastName})\n                            </option>\n                          ))}\n                        </Field>\n                      )}\n                      <ErrorMessage name=\"recipientId\" component=\"div\" className=\"text-red-500 text-sm mt-1\" />\n                    </div>\n                  )}\n                  \n                  {selectedType === 'payment' && (\n                    <>\n                      <div className=\"mb-4\">\n                        <label htmlFor=\"recipientAccountNumber\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          Recipient Account Number\n                        </label>\n                        <Field\n                          type=\"text\"\n                          id=\"recipientAccountNumber\"\n                          name=\"recipientAccountNumber\"\n                          placeholder=\"Enter 16-digit account number\"\n                          className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                        <ErrorMessage name=\"recipientAccountNumber\" component=\"div\" className=\"text-red-500 text-sm mt-1\" />\n                      </div>\n                      \n                      <div className=\"mb-4\">\n                        <label htmlFor=\"recipientName\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          Recipient Name\n                        </label>\n                        <Field\n                          type=\"text\"\n                          id=\"recipientName\"\n                          name=\"recipientName\"\n                          placeholder=\"Enter recipient name\"\n                          className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                        <ErrorMessage name=\"recipientName\" component=\"div\" className=\"text-red-500 text-sm mt-1\" />\n                      </div>\n                    </>\n                  )}\n                  \n                  <div className=\"mb-6\">\n                    <label className=\"block text-base font-semibold text-gray-800 mb-2\">\n                      Category\n                    </label>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n                      {transactionCategories.map((category) => {\n                        const IconComponent = category.icon;\n                        return (\n                          <div \n                            key={category.id}\n                            onClick={() => {\n                              setSelectedCategory(category.id);\n                              // Also update the form field\n                              const categoryField = document.getElementById('category');\n                              if (categoryField) categoryField.value = category.id;\n                            }}\n                            className={`cursor-pointer rounded-lg p-3 transition-all duration-200 ${selectedCategory === category.id \n                              ? `${category.bgColor} border-2 border-${category.color.replace('text-', '')}` \n                              : `${darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-white hover:bg-gray-50'} border border-gray-200`\n                            }`}\n                          >\n                            <div className=\"flex items-center space-x-3\">\n                              <div className={`rounded-full ${category.bgColor} p-2`}>\n                                <IconComponent className={`h-5 w-5 ${category.color}`} />\n                              </div>\n                              <span className={`text-sm font-medium ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                                {category.name}\n                              </span>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                    {/* Hidden field to store the category value */}\n                    <Field\n                      type=\"hidden\"\n                      id=\"category\"\n                      name=\"category\"\n                      value={selectedCategory}\n                    />\n                  </div>\n                  \n                  <div className=\"mb-4\">\n                    <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description (Optional)\n                    </label>\n                    <Field\n                      as=\"textarea\"\n                      id=\"description\"\n                      name=\"description\"\n                      rows=\"3\"\n                      className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                  \n                  <div className=\"mb-4\">\n                    <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Notes (Optional)\n                    </label>\n                    <Field\n                      as=\"textarea\"\n                      id=\"notes\"\n                      name=\"notes\"\n                      rows=\"2\"\n                      placeholder=\"Add any additional notes\"\n                      className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                  \n                  {/* Fraud Score Indicator (if checked) */}\n                  {fraudScore !== null && (\n                    <div className={`rounded-md ${\n                      fraudScore > 0.7 ? 'bg-red-50' : fraudScore > 0.4 ? 'bg-yellow-50' : 'bg-green-50'\n                    } p-4`}>\n                      <div className=\"flex\">\n                        <div className=\"flex-shrink-0\">\n                          {fraudScore > 0.7 ? (\n                            <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                            </svg>\n                          ) : fraudScore > 0.4 ? (\n                            <svg className=\"h-5 w-5 text-yellow-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                              <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                            </svg>\n                          ) : (\n                            <svg className=\"h-5 w-5 text-green-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                            </svg>\n                          )}\n                        </div>\n                        <div className=\"ml-3\">\n                          <h3 className={`text-sm font-medium ${\n                            fraudScore > 0.7 ? 'text-red-800' : fraudScore > 0.4 ? 'text-yellow-800' : 'text-green-800'\n                          }`}>\n                            {fraudScore > 0.7 \n                              ? 'High fraud risk detected' \n                              : fraudScore > 0.4 \n                                ? 'Medium fraud risk detected' \n                                : 'Low fraud risk'\n                            }\n                          </h3>\n                          <div className={`mt-2 text-sm ${\n                            fraudScore > 0.7 ? 'text-red-700' : fraudScore > 0.4 ? 'text-yellow-700' : 'text-green-700'\n                          }`}>\n                            <p>\n                              {fraudScore > 0.7 \n                                ? 'This transaction has been flagged as potentially fraudulent. You can still proceed, but it will be reviewed by our security team.' \n                                : fraudScore > 0.4 \n                                  ? 'This transaction shows some unusual patterns. Please verify all details before proceeding.' \n                                  : 'This transaction appears to be legitimate.'\n                              }\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                  \n                  <div className=\"flex justify-end mt-8 space-x-4\">\n                    <button\n                      type=\"button\"\n                      onClick={() => navigate(-1)}\n                      className=\"bg-white py-3 px-6 border border-gray-300 rounded-lg shadow-sm text-base font-medium text-gray-700 hover:bg-gray-50 hover:shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={isSubmitting || isFraudChecking}\n                      className=\"inline-flex justify-center py-3 px-6 border border-transparent shadow-md text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 hover:shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50\"\n                    >\n                      {(isSubmitting || isFraudChecking) && (\n                        <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                      )}\n                      {isFraudChecking ? 'Verifying Transaction...' : isSubmitting ? 'Processing...' : 'Create Transaction'}\n                    </button>\n                  </div>\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewTransaction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}